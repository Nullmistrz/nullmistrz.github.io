<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2025-08-17T10:39:31+00:00</updated><id>/feed.xml</id><title type="html">NullMistrz</title><subtitle>Blog o programowaniu, sieciach, automatyzacji i elektronice. Praktyczne porady, skrypty, projekty i rozwiÄ…zania problemÃ³w.</subtitle><author><name>Nullmistrz</name><email>mtib2k@gmail.com</email></author><entry><title type="html">WireGuard â€“ Modern VPN in Practice</title><link href="/posts/wireguard-opis-en/" rel="alternate" type="text/html" title="WireGuard â€“ Modern VPN in Practice" /><published>2025-08-17T00:00:00+00:00</published><updated>2025-08-17T10:00:00+00:00</updated><id>/posts/wireguard-opis-en</id><content type="html" xml:base="/posts/wireguard-opis-en/"><![CDATA[<h2 id="1-what-is-wireguard-for-">1. What is WireGuard for? ğŸ”’ğŸŒ</h2>

<p>WireGuard is a modern VPN protocol that allows you to securely connect to a network from anywhere in the world. It helps you protect your privacy, access company or home resources, and secure data transmission in public Wi-Fi networks.</p>

<h3 id="11-key-advantages-of-wireguard-">1.1 Key Advantages of WireGuard ğŸš€</h3>

<ul>
  <li><strong>Simple configuration</strong> â€“ quick installation and clear settings.</li>
  <li><strong>High performance</strong> â€“ minimal latency, fast transfer.</li>
  <li><strong>Security</strong> â€“ modern cryptography, protection against eavesdropping.</li>
  <li><strong>Lightweight</strong> â€“ small codebase, low resource usage.</li>
  <li><strong>Multi-platform support</strong> â€“ Linux, Windows, macOS, Android, iOS.</li>
</ul>

<hr />

<h2 id="2-wireguard-use-cases-ï¸">2. WireGuard Use Cases ğŸ›¡ï¸</h2>

<p>WireGuard is perfect for many scenarios:</p>
<ul>
  <li>Remote access to company network ğŸ¢</li>
  <li>Secure connection to your home while traveling ğŸ âœˆï¸</li>
  <li>Data protection in public Wi-Fi networks â˜•ğŸ“¶</li>
  <li>Connecting company branches into a single network ğŸŒ</li>
</ul>

<hr />

<h2 id="3-how-does-wireguard-work-ï¸">3. How Does WireGuard Work? âš™ï¸</h2>

<p>WireGuard is based on simple principles:</p>
<ol>
  <li>Each user generates a pair of keys (public and private) ğŸ”‘</li>
  <li>Configuration involves exchanging keys and setting IP addresses.</li>
  <li>The connection is established automatically, without complicated rules.</li>
  <li>All communication is encrypted and secured.</li>
</ol>

<hr />

<h2 id="4-example-wireguard-configuration-on-linux-">4. Example WireGuard Configuration on Linux ğŸ§</h2>

<h3 id="server-configuration">Server configuration</h3>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[Interface]</span>
<span class="py">PrivateKey</span> <span class="p">=</span> <span class="s">&lt;server_private_key&gt;</span>
<span class="py">Address</span> <span class="p">=</span> <span class="s">10.0.0.1/24</span>
<span class="py">ListenPort</span> <span class="p">=</span> <span class="s">51820</span>

<span class="c"># Add clients as Peer
</span><span class="nn">[Peer]</span>
<span class="py">PublicKey</span> <span class="p">=</span> <span class="s">&lt;client1_public_key&gt;</span>
<span class="py">AllowedIPs</span> <span class="p">=</span> <span class="s">10.0.0.2/32</span>

<span class="nn">[Peer]</span>
<span class="py">PublicKey</span> <span class="p">=</span> <span class="s">&lt;client2_public_key&gt;</span>
<span class="py">AllowedIPs</span> <span class="p">=</span> <span class="s">10.0.0.3/32</span>
</code></pre></div></div>

<h3 id="client-configuration">Client configuration</h3>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[Interface]</span>
<span class="py">PrivateKey</span> <span class="p">=</span> <span class="s">&lt;client_private_key&gt;</span>
<span class="py">Address</span> <span class="p">=</span> <span class="s">10.0.0.2/24</span>
<span class="py">ListenPort</span> <span class="p">=</span> <span class="s">21841</span>

<span class="nn">[Peer]</span>
<span class="py">PublicKey</span> <span class="p">=</span> <span class="s">&lt;server_public_key&gt;</span>
<span class="py">Endpoint</span> <span class="p">=</span> <span class="s">&lt;server_IP_address&gt;:51820</span>
<span class="py">AllowedIPs</span> <span class="p">=</span> <span class="s">0.0.0.0/0</span>
</code></pre></div></div>

<blockquote>
  <p>The values <code class="language-plaintext highlighter-rouge">&lt;server_private_key&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;client_private_key&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;server_public_key&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;client1_public_key&gt;</code>, etc. are generated with:
<code class="language-plaintext highlighter-rouge">wg genkey | tee privatekey | wg pubkey &gt; publickey</code></p>
</blockquote>

<hr />

<h2 id="5-deployment-tips-">5. Deployment Tips ğŸ’¡</h2>

<ul>
  <li>Always protect your private keys!</li>
  <li>Use strong passwords for your system.</li>
  <li>Keep WireGuard software up to date.</li>
  <li>Test the connection before deploying in production.</li>
</ul>

<hr />

<h2 id="6-summary-and-benefits-of-wireguard-">6. Summary and Benefits of WireGuard ğŸ¯</h2>

<p>WireGuard is the perfect solution for individuals and companies who value security, simplicity, and performance. Thanks to its modern architecture and easy configuration, VPN has never been so accessible!</p>

<hr />

<p><strong>Do you have questions or want to see examples for other systems? Let me know in the comments!</strong> ğŸ’¬</p>

<hr />

<p>ğŸ”œ <strong>Coming soon on the blog:</strong>
Discover practical examples of deploying WireGuard on a MikroTik router and configuring a connection on an Android phone! ğŸ“±ğŸ›œ</p>

<p>Follow upcoming posts to learn how to easily and securely use WireGuard in everyday scenarios â€“ at home and at work. ğŸš¦ğŸ ğŸ¢</p>

<hr />

<p><strong>Source:</strong> <a href="https://www.wireguard.com/">Official WireGuard website</a></p>]]></content><author><name>Nullmistrz</name><email>mtib2k@gmail.com</email></author><category term="posts" /><summary type="html"><![CDATA[1. What is WireGuard for? ğŸ”’ğŸŒ]]></summary></entry><entry><title type="html">WireGuard â€“ nowoczesny VPN w praktyce</title><link href="/posts/wireguard-opis-pl/" rel="alternate" type="text/html" title="WireGuard â€“ nowoczesny VPN w praktyce" /><published>2025-08-17T00:00:00+00:00</published><updated>2025-08-17T10:00:00+00:00</updated><id>/posts/wireguard-opis-pl</id><content type="html" xml:base="/posts/wireguard-opis-pl/"><![CDATA[<h2 id="1-wireguard--do-czego-sÅ‚uÅ¼y-">1. WireGuard â€“ do czego sÅ‚uÅ¼y? ğŸ”’ğŸŒ</h2>

<p>WireGuard to nowoczesny protokÃ³Å‚ VPN, ktÃ³ry umoÅ¼liwia bezpieczne Å‚Ä…czenie siÄ™ z sieciÄ… z dowolnego miejsca na Å›wiecie. DziÄ™ki niemu moÅ¼esz chroniÄ‡ swojÄ… prywatnoÅ›Ä‡, uzyskaÄ‡ dostÄ™p do zasobÃ³w firmowych lub domowych, a takÅ¼e zabezpieczyÄ‡ transmisjÄ™ danych w publicznych sieciach Wi-Fi.</p>

<h3 id="11-najwaÅ¼niejsze-zalety-wireguard-">1.1 NajwaÅ¼niejsze zalety WireGuard ğŸš€</h3>

<ul>
  <li><strong>Prostota konfiguracji</strong> â€“ szybka instalacja i przejrzyste ustawienia.</li>
  <li><strong>Wysoka wydajnoÅ›Ä‡</strong> â€“ minimalne opÃ³Åºnienia, szybki transfer.</li>
  <li><strong>BezpieczeÅ„stwo</strong> â€“ nowoczesna kryptografia, ochrona przed podsÅ‚uchem.</li>
  <li><strong>LekkoÅ›Ä‡</strong> â€“ niewielki rozmiar kodu, maÅ‚e zuÅ¼ycie zasobÃ³w.</li>
  <li>
    <h2 id="wsparcie-dla-wielu-systemÃ³w--linux-windows-macos-android-ios"><strong>Wsparcie dla wielu systemÃ³w</strong> â€“ Linux, Windows, macOS, Android, iOS.</h2>
  </li>
</ul>

<h2 id="2-zastosowania-wireguard-ï¸">2. Zastosowania WireGuard ğŸ›¡ï¸</h2>
<p>WireGuard sprawdzi siÄ™ w wielu scenariuszach:</p>
<ul>
  <li>Zdalny dostÄ™p do sieci firmowej ğŸ¢</li>
  <li>Bezpieczne poÅ‚Ä…czenie z domem podczas podrÃ³Å¼y ğŸ âœˆï¸</li>
  <li>Ochrona danych w publicznych sieciach Wi-Fi â˜•ğŸ“¶</li>
  <li>
    <h2 id="Å‚Ä…czenie-oddziaÅ‚Ã³w-firmy-w-jednÄ…-sieÄ‡-">ÅÄ…czenie oddziaÅ‚Ã³w firmy w jednÄ… sieÄ‡ ğŸŒ</h2>
  </li>
</ul>

<h2 id="3-jak-dziaÅ‚a-wireguard-ï¸">3. Jak dziaÅ‚a WireGuard? âš™ï¸</h2>

<p>WireGuard opiera siÄ™ na prostych zasadach:</p>
<ol>
  <li>KaÅ¼dy uÅ¼ytkownik generuje parÄ™ kluczy (publiczny i prywatny) ğŸ”‘</li>
  <li>Konfiguracja polega na wymianie kluczy i ustawieniu adresÃ³w IP.</li>
  <li>PoÅ‚Ä…czenie jest zestawiane automatycznie, bez skomplikowanych reguÅ‚.</li>
  <li>CaÅ‚a komunikacja jest szyfrowana i zabezpieczona.</li>
</ol>

<hr />

<h2 id="4-przykÅ‚adowa-konfiguracja-wireguard-na-linuxie-">4. PrzykÅ‚adowa konfiguracja WireGuard na Linuxie ğŸ§</h2>

<h3 id="konfiguracja-serwera">Konfiguracja serwera</h3>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[Interface]</span>
<span class="py">PrivateKey</span> <span class="p">=</span> <span class="s">&lt;klucz_prywatny_serwera&gt;</span>
<span class="py">Address</span> <span class="p">=</span> <span class="s">10.0.0.1/24</span>
<span class="py">ListenPort</span> <span class="p">=</span> <span class="s">51820</span>

<span class="c"># Dodajemy klientÃ³w jako Peer
</span><span class="nn">[Peer]</span>
<span class="py">PublicKey</span> <span class="p">=</span> <span class="s">&lt;klucz_publiczny_klienta1&gt;</span>
<span class="py">AllowedIPs</span> <span class="p">=</span> <span class="s">10.0.0.2/32</span>

<span class="nn">[Peer]</span>
<span class="py">PublicKey</span> <span class="p">=</span> <span class="s">&lt;klucz_publiczny_klienta2&gt;</span>
<span class="py">AllowedIPs</span> <span class="p">=</span> <span class="s">10.0.0.3/32</span>
</code></pre></div></div>

<h3 id="konfiguracja-klienta">Konfiguracja klienta</h3>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[Interface]</span>
<span class="py">PrivateKey</span> <span class="p">=</span> <span class="s">&lt;klucz_prywatny_klienta&gt;</span>
<span class="py">Address</span> <span class="p">=</span> <span class="s">10.0.0.2/24</span>
<span class="py">ListenPort</span> <span class="p">=</span> <span class="s">21841</span>

<span class="nn">[Peer]</span>
<span class="py">PublicKey</span> <span class="p">=</span> <span class="s">&lt;klucz_publiczny_serwera&gt;</span>
<span class="py">Endpoint</span> <span class="p">=</span> <span class="s">&lt;adres_IP_serwera&gt;:51820</span>
<span class="py">AllowedIPs</span> <span class="p">=</span> <span class="s">0.0.0.0/0</span>
</code></pre></div></div>

<blockquote>
  <p>WartoÅ›ci <code class="language-plaintext highlighter-rouge">&lt;klucz_prywatny_...&gt;</code> i <code class="language-plaintext highlighter-rouge">&lt;klucz_publiczny_...&gt;</code> generujemy poleceniem:
<code class="language-plaintext highlighter-rouge">wg genkey | tee privatekey | wg pubkey &gt; publickey</code></p>
</blockquote>

<hr />

<h2 id="5-wskazÃ³wki-wdroÅ¼eniowe-">5. WskazÃ³wki wdroÅ¼eniowe ğŸ’¡</h2>

<ul>
  <li>Zawsze chroÅ„ swoje klucze prywatne!</li>
  <li>UÅ¼ywaj silnych haseÅ‚ do systemu.</li>
  <li>Aktualizuj oprogramowanie WireGuard do najnowszej wersji.</li>
  <li>Testuj poÅ‚Ä…czenie przed wdroÅ¼eniem w produkcji.</li>
</ul>

<hr />

<h2 id="6-podsumowanie-i-zalety-wireguard-">6. Podsumowanie i zalety WireGuard ğŸ¯</h2>

<p>WireGuard to idealne rozwiÄ…zanie dla osÃ³b i firm, ktÃ³re ceniÄ… bezpieczeÅ„stwo, prostotÄ™ i wydajnoÅ›Ä‡. DziÄ™ki nowoczesnej architekturze i Å‚atwej konfiguracji, VPN nigdy nie byÅ‚ tak dostÄ™pny!</p>

<hr />

<p><strong>Masz pytania lub chcesz zobaczyÄ‡ przykÅ‚ady dla innych systemÃ³w? Daj znaÄ‡ w komentarzu!</strong> ğŸ’¬</p>

<hr />

<p>ğŸ”œ <strong>JuÅ¼ wkrÃ³tce na blogu:</strong>
Poznasz praktyczne przykÅ‚ady wdroÅ¼enia WireGuard na routerze MikroTik oraz konfiguracjÄ™ poÅ‚Ä…czenia na telefonie z Androidem! ğŸ“±ğŸ›œ</p>

<p>ÅšledÅº kolejne wpisy, aby dowiedzieÄ‡ siÄ™, jak Å‚atwo i bezpiecznie korzystaÄ‡ z WireGuard w codziennych zastosowaniach â€“ zarÃ³wno w domu, jak i w firmie. ğŸš¦ğŸ ğŸ¢</p>

<hr />

<p><strong>Å¹rÃ³dÅ‚o:</strong> <a href="https://www.wireguard.com/">Oficjalna strona WireGuard</a></p>]]></content><author><name>Nullmistrz</name><email>mtib2k@gmail.com</email></author><category term="posts" /><summary type="html"><![CDATA[1. WireGuard â€“ do czego sÅ‚uÅ¼y? ğŸ”’ğŸŒ]]></summary></entry><entry><title type="html">Chateau LTE18 ax - Data Counting for LTE Interface</title><link href="/posts/mikrotik-zliczanie-danych-lte1-en/" rel="alternate" type="text/html" title="Chateau LTE18 ax - Data Counting for LTE Interface" /><published>2025-08-06T00:00:00+00:00</published><updated>2025-08-17T08:40:00+00:00</updated><id>/posts/mikrotik-zliczanie-danych-lte1-en</id><content type="html" xml:base="/posts/mikrotik-zliczanie-danych-lte1-en/"><![CDATA[<h2 id="1-lte-daily-data-aggregation-script-for-mikrotik">1. LTE Daily Data Aggregation Script for MikroTik</h2>

<h3 id="11-purpose-and-application">1.1 Purpose and Application</h3>

<p>This is a custom script for MikroTik routers that enables precise daily monitoring of data usage on the LTE interface. The script is intended for periodic execution (e.g., every 15/30/60 minutes via Scheduler) and allows you to sum up the amount of downloaded (download) and uploaded (upload) data during the day. This makes it easy to control operator-imposed data limits or simply monitor your own usage.</p>

<p>The script was tested on the following MikroTik router:</p>

<table>
  <thead>
    <tr>
      <th>Model</th>
      <th>RouterOS Version</th>
      <th>Test Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>S53UG+5HaxD2HaxD&amp;EG18-EA</td>
      <td>7.19.1</td>
      <td>OK</td>
    </tr>
    <tr>
      <td>S53UG+5HaxD2HaxD&amp;EG18-EA</td>
      <td>7.19.4</td>
      <td>In progress</td>
    </tr>
  </tbody>
</table>

<p>This table will be updated with new RouterOS versions and device models as further tests are performed.</p>

<h3 id="12-how-it-works">1.2 How It Works</h3>

<h4 id="121-lte-interface-selection">1.2.1 LTE Interface Selection</h4>
<p>At the beginning of the script, the name of the LTE interface from which statistics will be collected is defined (default: <code class="language-plaintext highlighter-rouge">lte1</code>).</p>

<h4 id="122-reading-current-counters">1.2.2 Reading Current Counters</h4>
<p>The script reads the current values of bytes received (<code class="language-plaintext highlighter-rouge">rx-byte</code>) and sent (<code class="language-plaintext highlighter-rouge">tx-byte</code>) from the selected interface.</p>

<h4 id="123-handling-global-variables">1.2.3 Handling Global Variables</h4>
<p>Global variables are used to store the daily sum and the last counter values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">rxPrevAgg</code>, <code class="language-plaintext highlighter-rouge">txPrevAgg</code> â€“ last readings of RX/TX counters</li>
  <li><code class="language-plaintext highlighter-rouge">globalDownload</code>, <code class="language-plaintext highlighter-rouge">globalUpload</code> â€“ total transfer since the beginning of the day</li>
</ul>

<p>If the variables do not exist (e.g., after a router restart), they are initialized with appropriate values.</p>

<h4 id="124-calculating-data-increment">1.2.4 Calculating Data Increment</h4>
<p>The script calculates the difference between the current and previous counter readings. If the counter â€œrolls overâ€ or the router is restarted, the increment is set to the current counter value.</p>

<h4 id="125-summing-data">1.2.5 Summing Data</h4>
<p>The calculated increment is added to the daily sum (<code class="language-plaintext highlighter-rouge">globalDownload</code> and <code class="language-plaintext highlighter-rouge">globalUpload</code>).</p>

<h4 id="126-updating-variables">1.2.6 Updating Variables</h4>
<p>At the end, the script updates the global variables so that the previous state of the counters is known for the next execution.</p>

<h4 id="127-logging">1.2.7 Logging</h4>
<p>After each aggregation, a log entry is created with information about the increment and the daily sum (in MB).</p>

<h3 id="13-example-script">1.3 Example Script</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Script: LTE Data Aggregation on MikroTik</span>
<span class="c"># Author: MirosÅ‚aw Biernat</span>
<span class="c"># Created: 2025-08-05</span>
<span class="c"># Last Modified: 2025-08-05</span>
<span class="c">#</span>
<span class="c"># Description:</span>
<span class="c"># Script executed every 15 minutes. On each run, it aggregates the increment of download (RX) and upload (TX) data into the global variables globalDownload and globalUpload. Allows for daily data summing.</span>
<span class="c">#</span>
<span class="c"># Version history:</span>
<span class="c"># - 1.0 (2025-08-05): First production version, RX/TX aggregation into global variables, logging increments and daily sum.</span>
<span class="c">#</span>
<span class="c"># Variable descriptions:</span>
<span class="c"># - rxPrevAgg, txPrevAgg â€“ last RX/TX counter values for comparison on next run</span>
<span class="c"># - globalDownload, globalUpload â€“ total download/upload since the beginning of the day (in bytes)</span>
<span class="c"># - deltaRX, deltaTX â€“ increment since last run (in bytes)</span>
<span class="c"># - iface â€“ LTE interface name</span>
<span class="c">#</span>
<span class="c"># Logs provide information about the increment and daily sum after each aggregation.</span>

:local iface <span class="s2">"lte1"</span>

<span class="c"># Get current RX/TX counters (in bytes)</span>
:local rxNow <span class="o">[</span>/interface get <span class="nv">$iface</span> rx-byte]
:local txNow <span class="o">[</span>/interface get <span class="nv">$iface</span> tx-byte]

<span class="c"># Get previous values from global variables (if they exist)</span>
:global rxPrevAgg
:global txPrevAgg
:global globalDownload
:global globalUpload

<span class="c"># Initialize global variables if they do not exist</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$rxPrevAgg</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set rxPrevAgg <span class="nv">$rxNow</span> <span class="o">}</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$txPrevAgg</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set txPrevAgg <span class="nv">$txNow</span> <span class="o">}</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$globalDownload</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set globalDownload 0 <span class="o">}</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$globalUpload</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set globalUpload 0 <span class="o">}</span>

<span class="c"># Calculate increment since last run</span>
:local deltaRX <span class="o">(</span><span class="nv">$rxNow</span> - <span class="nv">$rxPrevAgg</span><span class="o">)</span>
:local deltaTX <span class="o">(</span><span class="nv">$txNow</span> - <span class="nv">$txPrevAgg</span><span class="o">)</span>
<span class="k">if</span> <span class="o">(</span><span class="nv">$deltaRX</span> &lt; 0<span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set deltaRX <span class="nv">$rxNow</span> <span class="o">}</span>
<span class="k">if</span> <span class="o">(</span><span class="nv">$deltaTX</span> &lt; 0<span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set deltaTX <span class="nv">$txNow</span> <span class="o">}</span>

<span class="c"># Add increment to daily sum</span>
:set globalDownload <span class="o">(</span><span class="nv">$globalDownload</span> + <span class="nv">$deltaRX</span><span class="o">)</span>
:set globalUpload <span class="o">(</span><span class="nv">$globalUpload</span> + <span class="nv">$deltaTX</span><span class="o">)</span>

<span class="c"># Update global variables for next run</span>
:set rxPrevAgg <span class="nv">$rxNow</span>
:set txPrevAgg <span class="nv">$txNow</span>

<span class="c"># Log aggregation</span>
:log info <span class="o">(</span><span class="s2">"[AGGREGATION] Added to sum: RX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$deltaRX</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB, TX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$deltaTX</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB. Daily sum RX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$globalDownload</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB, TX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$globalUpload</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB"</span><span class="o">)</span>
</code></pre></div></div>
<p><strong>Download ready-to-use script file:</strong> <a href="/assets/scripts/lte_day_usage_monitor_AGG.rsc">lte_day_usage_monitor_AGG.rsc</a></p>

<hr />
<h1 id="script-cooperation">Script Cooperation</h1>

<p>In my case, the first script (aggregation) runs every 59 min 59 sec, and the second â€“ summary â€“ once a day at 23:59:00. This provides full, automatic monitoring and daily LTE data reporting.</p>

<hr />

<h2 id="2-lte-daily-data-summary-script-for-mikrotik--how-it-works">2. LTE Daily Data Summary Script for MikroTik â€“ How It Works</h2>

<h3 id="21-purpose-and-application">2.1 Purpose and Application</h3>
<p>This script is used to automatically summarize the daily data usage on the LTE interface of a MikroTik router. It is run once a day, preferably just before midnight (e.g., at 23:59), to collect and archive the total values of downloaded and uploaded data for the entire day. This allows for easy daily monitoring and receiving e-mail reports.</p>

<h3 id="22-step-by-step-operation">2.2 Step-by-step Operation</h3>
<ul>
  <li>The script reads the total download and upload values from global variables (<code class="language-plaintext highlighter-rouge">globalDownload</code>, <code class="language-plaintext highlighter-rouge">globalUpload</code>), which were aggregated by another script running cyclically during the day.</li>
  <li>Converts byte values to megabytes (MB) for report readability.</li>
  <li>Logs daily data usage (download and upload) in the system.</li>
  <li>Prepares an e-mail message with a daily data summary, including the date and the amount of downloaded and uploaded data.</li>
  <li>Sends an e-mail to the specified address (can be changed in the <code class="language-plaintext highlighter-rouge">emailTo</code> variable).</li>
  <li>Resets the global variables <code class="language-plaintext highlighter-rouge">globalDownload</code> and <code class="language-plaintext highlighter-rouge">globalUpload</code> to zero to start summing data for the next day.</li>
  <li>Logs information about the variable reset.</li>
</ul>

<h3 id="23-purpose-and-benefits">2.3 Purpose and Benefits</h3>
<p>The script is a perfect complement to daily LTE data aggregation on MikroTik. It allows for automatic reporting and archiving of data usage, which is especially useful for limited packages or when data usage needs to be accounted for. Thanks to the automatic variable reset, it requires no manual operation and works fully autonomously.</p>

<h3 id="24-implementation-tips">2.4 Implementation Tips</h3>
<ul>
  <li>The script should be run once a day, preferably via Scheduler in the evening.</li>
  <li>The recipient e-mail address can be freely changed in the <code class="language-plaintext highlighter-rouge">emailTo</code> variable.</li>
  <li>The script requires prior operation of the aggregation script (e.g., <a href="/assets/scripts/lte_day_usage_monitor_AGG.rsc"><code class="language-plaintext highlighter-rouge">lte_day_usage_monitor_AGG.rsc</code></a>), which sums the data during the day.</li>
</ul>

<hr />

<h3 id="25-daily-data-summary-script-code">2.5 Daily Data Summary Script Code</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Script: LTE Daily Data Summary on MikroTik</span>
<span class="c"># Author: MirosÅ‚aw Biernat</span>
<span class="c"># Created: 2025-08-05</span>
<span class="c"># Last Modified: 2025-08-05</span>
<span class="c">#</span>
<span class="c"># Description:</span>
<span class="c"># Script run between 23:54â€“23:59. Reads the total download/upload from global variables globalDownload/globalUpload, logs the summary, sends an e-mail, and resets the variables to zero for the next day.</span>
<span class="c">#</span>
<span class="c"># Version history:</span>
<span class="c"># - 1.0 (2025-08-05): First production version, daily transfer summary and reset, e-mail sending.</span>
<span class="c">#</span>
<span class="c"># Variable descriptions:</span>
<span class="c"># - globalDownload, globalUpload â€“ total download/upload since the beginning of the day (in bytes)</span>
<span class="c"># - dailyDownloadMB, dailyUploadMB â€“ total transfer in MB</span>
<span class="c"># - emailTo, emailSubject, emailBody â€“ e-mail sending parameters</span>
<span class="c">#</span>
<span class="c"># Logs provide information about the summary and variable reset.</span>

<span class="c"># Get daily sums from aggregation</span>
:global globalDownload
:global globalUpload

<span class="c"># Convert to MB</span>
:local dailyDownloadMB <span class="o">(</span><span class="nv">$globalDownload</span> / 1048576<span class="o">)</span>
:local dailyUploadMB <span class="o">(</span><span class="nv">$globalUpload</span> / 1048576<span class="o">)</span>

<span class="c"># Log summary</span>
:log info <span class="o">(</span><span class="s2">"[SUMMARY] Daily data usage: Download: "</span> <span class="nb">.</span> <span class="nv">$dailyDownloadMB</span> <span class="nb">.</span> <span class="s2">" MB, Upload: "</span> <span class="nb">.</span> <span class="nv">$dailyUploadMB</span> <span class="nb">.</span> <span class="s2">" MB"</span><span class="o">)</span>

<span class="c"># Send e-mail with summary</span>
:local emailTo <span class="s2">"youremail@mail.com"</span>
:local emailSubject <span class="o">(</span><span class="s2">"LTE1 Daily Summary - "</span> <span class="nb">.</span> <span class="o">[</span>/system clock get <span class="nb">date</span><span class="o">])</span>
:local emailBody <span class="o">(</span><span class="s2">"Daily data usage:</span><span class="se">\r\n</span><span class="s2">Download: "</span> <span class="nb">.</span> <span class="nv">$dailyDownloadMB</span> <span class="nb">.</span> <span class="s2">" MB</span><span class="se">\r\n</span><span class="s2">Upload: "</span> <span class="nb">.</span> <span class="nv">$dailyUploadMB</span> <span class="nb">.</span> <span class="s2">" MB"</span><span class="o">)</span>
/tool e-mail send <span class="nv">to</span><span class="o">=</span><span class="nv">$emailTo</span> <span class="nv">subject</span><span class="o">=</span><span class="nv">$emailSubject</span> <span class="nv">body</span><span class="o">=</span><span class="nv">$emailBody</span>

<span class="c"># Reset global variables for the next day</span>
:set globalDownload 0
:set globalUpload 0

<span class="c"># Log reset</span>
:log info <span class="s2">"[SUMMARY] globalDownload and globalUpload global variables reset to 0."</span>
</code></pre></div></div>
<p><strong>Download ready-to-use script file:</strong> <a href="/assets/scripts/lte_day_summary.rsc">lte_day_summary.rsc</a></p>]]></content><author><name>Nullmistrz</name><email>mtib2k@gmail.com</email></author><category term="posts" /><summary type="html"><![CDATA[1. LTE Daily Data Aggregation Script for MikroTik]]></summary></entry><entry><title type="html">Chateau LTE18 ax - Zliczanie danych dla interfejsu LTE</title><link href="/posts/mikrotik-zliczanie-danych-lte1-pl/" rel="alternate" type="text/html" title="Chateau LTE18 ax - Zliczanie danych dla interfejsu LTE" /><published>2025-08-06T00:00:00+00:00</published><updated>2025-08-17T08:40:00+00:00</updated><id>/posts/mikrotik-zliczanie-danych-lte1-pl</id><content type="html" xml:base="/posts/mikrotik-zliczanie-danych-lte1-pl/"><![CDATA[<h2 id="1-skrypt-do-dziennej-agregacji-transferu-lte-na-mikrotik">1. Skrypt do dziennej agregacji transferu LTE na MikroTik</h2>

<h3 id="11-cel-i-zastosowanie">1.1 Cel i zastosowanie</h3>

<p>Przedstawiam autorski skrypt do routerÃ³w MikroTik, ktÃ³ry umoÅ¼liwia precyzyjne monitorowanie dziennego zuÅ¼ycia transferu danych na interfejsie LTE. Skrypt jest przeznaczony do uruchamiania cyklicznego (np. co 15/30/60 minut przez Scheduler) i pozwala na sumowanie iloÅ›ci pobranych (download) oraz wysÅ‚anych (upload) danych w ciÄ…gu doby. DziÄ™ki temu moÅ¼na Å‚atwo kontrolowaÄ‡ limity transferu narzucone przez operatora lub po prostu monitorowaÄ‡ wÅ‚asne zuÅ¼ycie.</p>

<p>Skrypt byÅ‚ testowany na routerze MikroTik:</p>

<table>
  <thead>
    <tr>
      <th>Model</th>
      <th>Wersja RouterOS</th>
      <th>Status testu</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>S53UG+5HaxD2HaxD&amp;EG18-EA</td>
      <td>7.19.1</td>
      <td>OK</td>
    </tr>
    <tr>
      <td>S53UG+5HaxD2HaxD&amp;EG18-EA</td>
      <td>7.19.4</td>
      <td>W trakcie</td>
    </tr>
  </tbody>
</table>

<p>Tabelka bÄ™dzie aktualizowana o kolejne wersje systemu RouterOS oraz modele urzÄ…dzeÅ„.</p>

<h3 id="12-zasada-dziaÅ‚ania">1.2 Zasada dziaÅ‚ania</h3>

<h3 id="121-wybÃ³r-interfejsu-lte">1.2.1 WybÃ³r interfejsu LTE</h3>
<p>Na poczÄ…tku skryptu definiowana jest nazwa interfejsu LTE, z ktÃ³rego bÄ™dÄ… pobierane statystyki (domyÅ›lnie <code class="language-plaintext highlighter-rouge">lte1</code>).</p>

<h3 id="122-pobranie-aktualnych-licznikÃ³w">1.2.2 Pobranie aktualnych licznikÃ³w</h3>
<p>Skrypt odczytuje bieÅ¼Ä…ce wartoÅ›ci licznikÃ³w bajtÃ³w pobranych (<code class="language-plaintext highlighter-rouge">rx-byte</code>) i wysÅ‚anych (<code class="language-plaintext highlighter-rouge">tx-byte</code>) z wybranego interfejsu.</p>

<h3 id="123-obsÅ‚uga-zmiennych-globalnych">1.2.3 ObsÅ‚uga zmiennych globalnych</h3>
<p>Do przechowywania sumy dziennej oraz ostatnich wartoÅ›ci licznikÃ³w wykorzystywane sÄ… zmienne globalne:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">rxPrevAgg</code>, <code class="language-plaintext highlighter-rouge">txPrevAgg</code> â€“ ostatnie odczyty licznikÃ³w RX/TX</li>
  <li><code class="language-plaintext highlighter-rouge">globalDownload</code>, <code class="language-plaintext highlighter-rouge">globalUpload</code> â€“ sumaryczny transfer od poczÄ…tku dnia</li>
</ul>

<p>JeÅ›li zmienne nie istniejÄ… (np. po restarcie routera), sÄ… inicjalizowane odpowiednimi wartoÅ›ciami.</p>

<h3 id="124-obliczanie-przyrostu-transferu">1.2.4 Obliczanie przyrostu transferu</h3>
<p>Skrypt wylicza rÃ³Å¼nicÄ™ pomiÄ™dzy aktualnym a poprzednim odczytem licznikÃ³w. JeÅ›li licznik siÄ™ â€przewinieâ€ lub router zostanie zrestartowany, przyrost jest ustawiany na aktualnÄ… wartoÅ›Ä‡ licznika.</p>

<h3 id="125-sumowanie-transferu">1.2.5 Sumowanie transferu</h3>
<p>Obliczony przyrost jest dodawany do sumy dziennej (<code class="language-plaintext highlighter-rouge">globalDownload</code> i <code class="language-plaintext highlighter-rouge">globalUpload</code>).</p>

<h3 id="126-aktualizacja-zmiennych">1.2.6 Aktualizacja zmiennych</h3>
<p>Na koniec skrypt aktualizuje zmienne globalne, aby przy kolejnym wywoÅ‚aniu znaÄ‡ poprzedni stan licznikÃ³w.</p>

<h3 id="127-logowanie">1.2.7 Logowanie</h3>
<p>Po kaÅ¼dej agregacji do logÃ³w systemowych trafia informacja o przyroÅ›cie transferu oraz sumie dziennej (w MB).</p>

<h3 id="13-przykÅ‚adowy-kod">1.3 PrzykÅ‚adowy kod</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Skrypt: Agregacja transferu LTE MikroTik</span>
<span class="c"># Autor: MirosÅ‚aw Biernat</span>
<span class="c"># Data utworzenia: 2025-08-05</span>
<span class="c"># Data ostatniej modyfikacji: 2025-08-05</span>
<span class="c">#</span>
<span class="c"># Opis:</span>
<span class="c"># Skrypt uruchamiany co 15 minut. Przy kaÅ¼dym wywoÅ‚aniu agreguje przyrost transferu download (RX) i upload (TX) do zmiennych globalnych globalDownload i globalUpload. Pozwala na sumowanie transferu w ciÄ…gu dnia.</span>
<span class="c">#</span>
<span class="c"># Historia wersji:</span>
<span class="c"># - 1.0 (2025-08-05): Pierwsza wersja produkcyjna, agregacja RX/TX do zmiennych globalnych, logowanie przyrostÃ³w i sumy dziennej.</span>
<span class="c">#</span>
<span class="c"># Opis zmiennych:</span>
<span class="c"># - rxPrevAgg, txPrevAgg â€“ ostatnie wartoÅ›ci licznikÃ³w RX/TX do porÃ³wnania przy kolejnym wywoÅ‚aniu</span>
<span class="c"># - globalDownload, globalUpload â€“ sumaryczny transfer download/upload od poczÄ…tku dnia (w bajtach)</span>
<span class="c"># - deltaRX, deltaTX â€“ przyrost transferu od ostatniego wywoÅ‚ania (w bajtach)</span>
<span class="c"># - iface â€“ nazwa interfejsu LTE</span>
<span class="c">#</span>
<span class="c"># Logi informujÄ… o przyroÅ›cie i sumie dziennej po kaÅ¼dej agregacji.</span>

:local iface <span class="s2">"lte1"</span>

<span class="c"># Pobierz aktualne liczniki RX/TX (w bajtach)</span>
:local rxNow <span class="o">[</span>/interface get <span class="nv">$iface</span> rx-byte]
:local txNow <span class="o">[</span>/interface get <span class="nv">$iface</span> tx-byte]

<span class="c"># Pobierz poprzednie wartoÅ›ci z globalnych zmiennych (jeÅ›li istniejÄ…)</span>
:global rxPrevAgg
:global txPrevAgg
:global globalDownload
:global globalUpload

<span class="c"># Inicjalizacja zmiennych globalnych, jeÅ›li nie istniejÄ…</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$rxPrevAgg</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set rxPrevAgg <span class="nv">$rxNow</span> <span class="o">}</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$txPrevAgg</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set txPrevAgg <span class="nv">$txNow</span> <span class="o">}</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$globalDownload</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set globalDownload 0 <span class="o">}</span>
<span class="k">if</span> <span class="o">([</span>:typeof <span class="nv">$globalUpload</span><span class="o">]</span> <span class="o">!=</span> <span class="s2">"num"</span><span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set globalUpload 0 <span class="o">}</span>

<span class="c"># Oblicz przyrost transferu od ostatniego wywoÅ‚ania</span>
:local deltaRX <span class="o">(</span><span class="nv">$rxNow</span> - <span class="nv">$rxPrevAgg</span><span class="o">)</span>
:local deltaTX <span class="o">(</span><span class="nv">$txNow</span> - <span class="nv">$txPrevAgg</span><span class="o">)</span>
<span class="k">if</span> <span class="o">(</span><span class="nv">$deltaRX</span> &lt; 0<span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set deltaRX <span class="nv">$rxNow</span> <span class="o">}</span>
<span class="k">if</span> <span class="o">(</span><span class="nv">$deltaTX</span> &lt; 0<span class="o">)</span> <span class="k">do</span><span class="o">={</span> :set deltaTX <span class="nv">$txNow</span> <span class="o">}</span>

<span class="c"># Dodaj przyrost do sumy dziennej</span>
:set globalDownload <span class="o">(</span><span class="nv">$globalDownload</span> + <span class="nv">$deltaRX</span><span class="o">)</span>
:set globalUpload <span class="o">(</span><span class="nv">$globalUpload</span> + <span class="nv">$deltaTX</span><span class="o">)</span>

<span class="c"># Zaktualizuj zmienne globalne do kolejnego wywoÅ‚ania</span>
:set rxPrevAgg <span class="nv">$rxNow</span>
:set txPrevAgg <span class="nv">$txNow</span>

<span class="c"># Loguj agregacjÄ™</span>
:log info <span class="o">(</span><span class="s2">"[AGGREGACJA] Dodano do sumy: RX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$deltaRX</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB, TX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$deltaTX</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB. Suma dzienna RX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$globalDownload</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB, TX: "</span> <span class="nb">.</span> <span class="o">(</span><span class="nv">$globalUpload</span> / 1048576<span class="o">)</span> <span class="nb">.</span> <span class="s2">" MB"</span><span class="o">)</span>
</code></pre></div></div>
<hr />
<h1 id="wspÃ³Å‚praca-skryptÃ³w">WspÃ³Å‚praca skryptÃ³w</h1>

<p>W moim przypadku pierwszy skrypt (agregujÄ…cy) uruchamiany jest co 59 min 59 sek, a drugi â€“ podsumowujÄ…cy â€“ raz na dobÄ™ o 23:59:00. DziÄ™ki temu uzyskujÄ™ peÅ‚ny, automatyczny monitoring i raportowanie dziennego transferu LTE.</p>

<hr />

<h2 id="2-skrypt-do-podsumowania-dziennego-transferu-lte-na-mikrotik--opis-dziaÅ‚ania">2. Skrypt do podsumowania dziennego transferu LTE na MikroTik â€“ opis dziaÅ‚ania</h2>

<h3 id="21-cel-i-zastosowanie">2.1 Cel i zastosowanie</h3>
<p>Skrypt sÅ‚uÅ¼y do automatycznego podsumowania dziennego zuÅ¼ycia transferu danych na interfejsie LTE routera MikroTik. Jest uruchamiany raz dziennie, najlepiej tuÅ¼ przed pÃ³Å‚nocÄ… (np. o 23:59), aby zebraÄ‡ i zarchiwizowaÄ‡ sumaryczne wartoÅ›ci pobranych (download) i wysÅ‚anych (upload) danych z caÅ‚ego dnia. Pozwala to na Å‚atwe monitorowanie dziennego transferu oraz otrzymywanie raportÃ³w e-mail.</p>

<h3 id="22-zasada-dziaÅ‚ania-krok-po-kroku">2.2 Zasada dziaÅ‚ania krok po kroku</h3>
<ul>
  <li>Skrypt odczytuje sumaryczne wartoÅ›ci transferu download i upload z globalnych zmiennych (<code class="language-plaintext highlighter-rouge">globalDownload</code>, <code class="language-plaintext highlighter-rouge">globalUpload</code>), ktÃ³re byÅ‚y agregowane przez inny skrypt uruchamiany cyklicznie w ciÄ…gu dnia.</li>
  <li>Przelicza wartoÅ›ci bajtÃ³w na megabajty (MB) dla czytelnoÅ›ci raportu.</li>
  <li>Loguje w systemie informacjÄ™ o dziennym zuÅ¼yciu danych (download i upload).</li>
  <li>Przygotowuje wiadomoÅ›Ä‡ e-mail z podsumowaniem dziennego transferu, zawierajÄ…cÄ… datÄ™ oraz iloÅ›Ä‡ pobranych i wysÅ‚anych danych.</li>
  <li>WysyÅ‚a e-mail na wskazany adres (moÅ¼na go zmieniÄ‡ w zmiennej <code class="language-plaintext highlighter-rouge">emailTo</code>).</li>
  <li>Resetuje zmienne globalne <code class="language-plaintext highlighter-rouge">globalDownload</code> i <code class="language-plaintext highlighter-rouge">globalUpload</code> do zera, aby rozpoczÄ…Ä‡ sumowanie transferu od nowa w kolejnym dniu.</li>
  <li>Loguje informacjÄ™ o resecie zmiennych.</li>
</ul>

<h3 id="23-przeznaczenie-i-zalety">2.3 Przeznaczenie i zalety</h3>
<p>Skrypt jest idealnym uzupeÅ‚nieniem dziennej agregacji transferu LTE na MikroTik. Pozwala na automatyczne raportowanie i archiwizacjÄ™ zuÅ¼ycia danych, co jest szczegÃ³lnie przydatne przy limitowanych pakietach lub koniecznoÅ›ci rozliczania transferu. DziÄ™ki automatycznemu resetowi zmiennych, nie wymaga rÄ™cznej obsÅ‚ugi i dziaÅ‚a w peÅ‚ni autonomicznie.</p>

<h3 id="24-wskazÃ³wki-wdroÅ¼eniowe">2.4 WskazÃ³wki wdroÅ¼eniowe</h3>
<ul>
  <li>Skrypt naleÅ¼y uruchamiaÄ‡ raz dziennie, najlepiej przez Scheduler w godzinach wieczornych.</li>
  <li>Adres e-mail odbiorcy raportu moÅ¼na dowolnie zmieniÄ‡ w zmiennej <code class="language-plaintext highlighter-rouge">emailTo</code>.</li>
  <li>Skrypt wymaga wczeÅ›niejszego dziaÅ‚ania skryptu agregujÄ…cego transfer (np. <a href="/assets/scripts/lte_day_usage_monitor_AGG.rsc"><code class="language-plaintext highlighter-rouge">lte_day_usage_monitor_AGG.rsc</code></a>), ktÃ³ry sumuje transfer w ciÄ…gu dnia.</li>
</ul>

<hr />

<h3 id="25-kod-skryptu-dobowego-podsumowania-transferu">2.5 Kod skryptu dobowego podsumowania transferu</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Skrypt: Podsumowanie dziennego transferu LTE MikroTik</span>
<span class="c"># Autor: MirosÅ‚aw Biernat</span>
<span class="c"># Data utworzenia: 2025-08-05</span>
<span class="c"># Data ostatniej modyfikacji: 2025-08-05</span>
<span class="c">#</span>
<span class="c"># Opis:</span>
<span class="c"># Skrypt uruchamiany w przedziale 23:54â€“23:59. Odczytuje sumaryczny transfer download/upload z globalnych zmiennych globalDownload/globalUpload, loguje podsumowanie, wysyÅ‚a e-mail i resetuje zmienne do zera na kolejny dzieÅ„.</span>
<span class="c">#</span>
<span class="c"># Historia wersji:</span>
<span class="c"># - 1.0 (2025-08-05): Pierwsza wersja produkcyjna, podsumowanie i reset dziennych sum transferu, wysyÅ‚ka e-mail.</span>
<span class="c">#</span>
<span class="c"># Opis zmiennych:</span>
<span class="c"># - globalDownload, globalUpload â€“ sumaryczny transfer download/upload od poczÄ…tku dnia (w bajtach)</span>
<span class="c"># - dailyDownloadMB, dailyUploadMB â€“ sumaryczny transfer w MB</span>
<span class="c"># - emailTo, emailSubject, emailBody â€“ parametry wysyÅ‚ki e-maila</span>
<span class="c">#</span>
<span class="c"># Logi informujÄ… o podsumowaniu i resecie zmiennych.</span>

<span class="c"># Pobierz sumy dzienne z agregacji</span>
:global globalDownload
:global globalUpload

<span class="c"># Przelicz na MB</span>
:local dailyDownloadMB <span class="o">(</span><span class="nv">$globalDownload</span> / 1048576<span class="o">)</span>
:local dailyUploadMB <span class="o">(</span><span class="nv">$globalUpload</span> / 1048576<span class="o">)</span>

<span class="c"># Loguj podsumowanie</span>
:log info <span class="o">(</span><span class="s2">"[PODSUMOWANIE] Dzienne zuÅ¼ycie danych: Download: "</span> <span class="nb">.</span> <span class="nv">$dailyDownloadMB</span> <span class="nb">.</span> <span class="s2">" MB, Upload: "</span> <span class="nb">.</span> <span class="nv">$dailyUploadMB</span> <span class="nb">.</span> <span class="s2">" MB"</span><span class="o">)</span>

<span class="c"># WyÅ›lij e-mail z podsumowaniem</span>
:local emailTo <span class="s2">"twÃ³jadresmail@mail.com"</span>
:local emailSubject <span class="o">(</span><span class="s2">"Podsumowanie dzienne LTE1 - "</span> <span class="nb">.</span> <span class="o">[</span>/system clock get <span class="nb">date</span><span class="o">])</span>
:local emailBody <span class="o">(</span><span class="s2">"Dzienne zuÅ¼ycie danych:</span><span class="se">\r\n</span><span class="s2">Download: "</span> <span class="nb">.</span> <span class="nv">$dailyDownloadMB</span> <span class="nb">.</span> <span class="s2">" MB</span><span class="se">\r\n</span><span class="s2">Upload: "</span> <span class="nb">.</span> <span class="nv">$dailyUploadMB</span> <span class="nb">.</span> <span class="s2">" MB"</span><span class="o">)</span>
/tool e-mail send <span class="nv">to</span><span class="o">=</span><span class="nv">$emailTo</span> <span class="nv">subject</span><span class="o">=</span><span class="nv">$emailSubject</span> <span class="nv">body</span><span class="o">=</span><span class="nv">$emailBody</span>

<span class="c"># Resetuj zmienne globalne na kolejny dzieÅ„</span>
:set globalDownload 0
:set globalUpload 0

<span class="c"># Loguj reset</span>
:log info <span class="s2">"[PODSUMOWANIE] Zresetowano zmienne globalne globalDownload i globalUpload do 0."</span>
</code></pre></div></div>
<p><strong>Pobierz gotowy plik skryptu:</strong> <a href="/assets/scripts/lte_day_summary.rsc">lte_day_summary.rsc</a></p>]]></content><author><name>Nullmistrz</name><email>mtib2k@gmail.com</email></author><category term="posts" /><summary type="html"><![CDATA[1. Skrypt do dziennej agregacji transferu LTE na MikroTik]]></summary></entry><entry><title type="html">Chateau LTE18 ax - home router</title><link href="/posts/mikrotik-Chateau-LTE18ax-en/" rel="alternate" type="text/html" title="Chateau LTE18 ax - home router" /><published>2025-08-01T00:00:00+00:00</published><updated>2025-08-01T06:00:00+00:00</updated><id>/posts/mikrotik-Chateau-LTE18ax-en</id><content type="html" xml:base="/posts/mikrotik-Chateau-LTE18ax-en/"><![CDATA[<p>The MikroTik Chateau LTE18 ax is a home LTE router that I use every day. This is not a sponsored post or advertisement â€“ I simply share my own experiences and practical scripts that may be useful to other users of this model. On this site, I will publish solutions that I personally use in my daily work with this device.</p>

<p>ğŸ‘‰ Also check out the <a href="/pl/projects/">Projects/MikroTik</a> section, where you will find more practical scripts and solutions for this router.</p>]]></content><author><name>Nullmistrz</name><email>mtib2k@gmail.com</email></author><category term="posts" /><summary type="html"><![CDATA[The MikroTik Chateau LTE18 ax is a home LTE router that I use every day. This is not a sponsored post or advertisement â€“ I simply share my own experiences and practical scripts that may be useful to other users of this model. On this site, I will publish solutions that I personally use in my daily work with this device.]]></summary></entry><entry><title type="html">Chateau LTE18 ax - domowy router</title><link href="/posts/mikrotik-Chateau-LTE18ax-pl/" rel="alternate" type="text/html" title="Chateau LTE18 ax - domowy router" /><published>2025-08-01T00:00:00+00:00</published><updated>2025-08-01T06:00:00+00:00</updated><id>/posts/mikrotik-Chateau-LTE18ax-pl</id><content type="html" xml:base="/posts/mikrotik-Chateau-LTE18ax-pl/"><![CDATA[<p>MikroTik Chateau LTE18 ax to domowy router LTE, ktÃ³ry wykorzystujÄ™ na co dzieÅ„. Nie jest to wpis sponsorowany ani reklama â€“ po prostu dzielÄ™ siÄ™ wÅ‚asnymi doÅ›wiadczeniami i praktycznymi skryptami, ktÃ³re mogÄ… przydaÄ‡ siÄ™ innym uÅ¼ytkownikom tego modelu. Na tej stronie bÄ™dÄ™ publikowaÄ‡ rozwiÄ…zania, ktÃ³re sam stosujÄ™ w codziennym uÅ¼ytkowaniu tego urzÄ…dzenia.</p>

<p>ğŸ‘‰ Zobacz takÅ¼e sekcjÄ™ <a href="/pl/projects/">Projekty/MikroTik</a>, gdzie znajdziesz wiÄ™cej praktycznych skryptÃ³w i rozwiÄ…zaÅ„ dla tego routera.</p>

<hr />]]></content><author><name>Nullmistrz</name><email>mtib2k@gmail.com</email></author><category term="posts" /><summary type="html"><![CDATA[MikroTik Chateau LTE18 ax to domowy router LTE, ktÃ³ry wykorzystujÄ™ na co dzieÅ„. Nie jest to wpis sponsorowany ani reklama â€“ po prostu dzielÄ™ siÄ™ wÅ‚asnymi doÅ›wiadczeniami i praktycznymi skryptami, ktÃ³re mogÄ… przydaÄ‡ siÄ™ innym uÅ¼ytkownikom tego modelu. Na tej stronie bÄ™dÄ™ publikowaÄ‡ rozwiÄ…zania, ktÃ³re sam stosujÄ™ w codziennym uÅ¼ytkowaniu tego urzÄ…dzenia.]]></summary></entry></feed>